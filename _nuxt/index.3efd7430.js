import Ie from"./Icon.e5087716.js";import{z as ke,r as Y,A as Je,B as Le,C as Qe,D as Ze,E as je,F as Ge,d as Oe,k as me,l as _e,m as C,G as Be,H as Xe,q as ge,I as Pe,v as Ae,o as Ye,t as De,j as et,c as tt,s as nt,J as Ne,K as ze,L as rt,M as it,N as st,O as at}from"./entry.c29ffec7.js";import"./config.4ad00594.js";function ot(n){return Qe()?(Ze(n),!0):!1}function Fe(n){return typeof n=="function"?n():ke(n)}const qe=typeof window<"u"&&typeof document<"u",lt=Object.prototype.toString,ut=n=>lt.call(n)==="[object Object]",ct=()=>{};function dt(n,p){function o(...s){return new Promise((v,y)=>{Promise.resolve(n(()=>p.apply(this,s),{fn:p,thisArg:this,args:s})).then(v).catch(y)})}return o}const $e=n=>n();function ft(n=$e){const p=Y(!0);function o(){p.value=!1}function s(){p.value=!0}const v=(...y)=>{p.value&&n(...y)};return{isActive:Je(p),pause:o,resume:s,eventFilter:v}}function ht(n,p,o={}){const{eventFilter:s=$e,...v}=o;return Le(n,dt(s,p),v)}function pt(n,p,o={}){const{eventFilter:s,...v}=o,{eventFilter:y,pause:w,resume:x,isActive:i}=ft(s);return{stop:ht(n,p,{...v,eventFilter:y}),pause:w,resume:x,isActive:i}}function gt(n){var p;const o=Fe(n);return(p=o==null?void 0:o.$el)!=null?p:o}const Se=qe?window:void 0;function we(...n){let p,o,s,v;if(typeof n[0]=="string"||Array.isArray(n[0])?([o,s,v]=n,p=Se):[p,o,s,v]=n,!p)return ct;Array.isArray(o)||(o=[o]),Array.isArray(s)||(s=[s]);const y=[],w=()=>{y.forEach(D=>D()),y.length=0},x=(D,E,V,m)=>(D.addEventListener(E,V,m),()=>D.removeEventListener(E,V,m)),i=Le(()=>[gt(p),Fe(v)],([D,E])=>{if(w(),!D)return;const V=ut(E)?{...E}:E;y.push(...o.flatMap(m=>s.map(k=>x(D,m,k,V))))},{immediate:!0,flush:"post"}),_=()=>{i(),w()};return ot(_),_}const Ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ee="__vueuse_ssr_handlers__",mt=_t();function _t(){return Ee in Ce||(Ce[Ee]=Ce[Ee]||{}),Ce[Ee]}function vt(n,p){return mt[n]||p}function yt(n){return n==null?"any":n instanceof Set?"set":n instanceof Map?"map":n instanceof Date?"date":typeof n=="boolean"?"boolean":typeof n=="string"?"string":typeof n=="object"?"object":Number.isNaN(n)?"any":"number"}const bt={boolean:{read:n=>n==="true",write:n=>String(n)},object:{read:n=>JSON.parse(n),write:n=>JSON.stringify(n)},number:{read:n=>Number.parseFloat(n),write:n=>String(n)},any:{read:n=>n,write:n=>String(n)},string:{read:n=>n,write:n=>String(n)},map:{read:n=>new Map(JSON.parse(n)),write:n=>JSON.stringify(Array.from(n.entries()))},set:{read:n=>new Set(JSON.parse(n)),write:n=>JSON.stringify(Array.from(n))},date:{read:n=>new Date(n),write:n=>n.toISOString()}},Ue="vueuse-storage";function wt(n,p,o,s={}){var v;const{flush:y="pre",deep:w=!0,listenToStorageChanges:x=!0,writeDefaults:i=!0,mergeDefaults:_=!1,shallow:D,window:E=Se,eventFilter:V,onError:m=e=>{console.error(e)}}=s,k=(D?je:Y)(p);if(!o)try{o=vt("getDefaultStorage",()=>{var e;return(e=Se)==null?void 0:e.localStorage})()}catch(e){m(e)}if(!o)return k;const O=Fe(p),A=yt(O),P=(v=s.serializer)!=null?v:bt[A],{pause:se,resume:ae}=pt(k,()=>q(k.value),{flush:y,deep:w,eventFilter:V});return E&&x&&(we(E,"storage",h),we(E,Ue,W)),h(),k;function q(e){try{if(e==null)o.removeItem(n);else{const t=P.write(e),r=o.getItem(n);r!==t&&(o.setItem(n,t),E&&E.dispatchEvent(new CustomEvent(Ue,{detail:{key:n,oldValue:r,newValue:t,storageArea:o}})))}}catch(t){m(t)}}function ee(e){const t=e?e.newValue:o.getItem(n);if(t==null)return i&&O!==null&&o.setItem(n,P.write(O)),O;if(!e&&_){const r=P.read(t);return typeof _=="function"?_(r,O):A==="object"&&!Array.isArray(r)?{...O,...r}:r}else return typeof t!="string"?t:P.read(t)}function W(e){h(e.detail)}function h(e){if(!(e&&e.storageArea!==o)){if(e&&e.key==null){k.value=O;return}if(!(e&&e.key!==n)){se();try{(e==null?void 0:e.newValue)!==P.write(k.value)&&(k.value=ee(e))}catch(t){m(t)}finally{e?Ge(ae):ae()}}}}}function kt(n,p={}){const o=Y(!1),s=je(null);let v=0;if(qe){const y=typeof p=="function"?{onDrop:p}:p,w=x=>{var i,_;const D=Array.from((_=(i=x.dataTransfer)==null?void 0:i.files)!=null?_:[]);return s.value=D.length===0?null:D};we(n,"dragenter",x=>{var i;x.preventDefault(),v+=1,o.value=!0,(i=y.onEnter)==null||i.call(y,w(x),x)}),we(n,"dragover",x=>{var i;x.preventDefault(),(i=y.onOver)==null||i.call(y,w(x),x)}),we(n,"dragleave",x=>{var i;x.preventDefault(),v-=1,v===0&&(o.value=!1),(i=y.onLeave)==null||i.call(y,w(x),x)}),we(n,"drop",x=>{var i;x.preventDefault(),v=0,o.value=!1,(i=y.onDrop)==null||i.call(y,w(x),x)})}return{files:s,isOverDropZone:o}}function Te(n,p,o={}){const{window:s=Se}=o;return wt(n,p,s==null?void 0:s.localStorage,o)}const xt={class:"join"},Ct=Oe({__name:"NovaConta",setup(n){const p=Y(""),o=Te("contas",[],{serializer:{read:s=>s?JSON.parse(s):null,write:s=>JSON.stringify(s)}});return(s,v)=>(me(),_e("div",null,[C("div",xt,[Be(C("input",{"onUpdate:modelValue":v[0]||(v[0]=y=>p.value=y),class:"input input-bordered join-item",placeholder:"Crie uma nova conta"},null,512),[[Xe,p.value]]),C("button",{class:"btn join-item rounded-r-full",onClick:v[1]||(v[1]=y=>ke(o).push(p.value))},"Criar")])]))}}),Et=C("label",{class:"font-medium text-slate-600"},[Ae("Arraste e solte ou "),C("label",{for:"input-file",class:"text-violet-600 cursor-pointer"},"Escolha um arquivo"),Ae(" para upload")],-1),Dt=C("p",{class:"text-slate-600"},"CSV",-1),St=Oe({__name:"Dropzone",emits:["onDrop"],setup(n,{emit:p}){const o=Y();function s(y){p("onDrop",y)}const{isOverDropZone:v}=kt(o,s);return(y,w)=>{const x=Ie;return me(),_e("div",{ref_key:"dropZoneRef",ref:o,class:Pe(["flex flex-col items-center gap-6 p-4 border-2 border-spacing-2 rounded-md",ke(v)?"border-violet-600 bg-violet-600/10":"border-dashed border-slate-700"])},[ge(x,{name:"bi:upload",class:"text-2xl",color:"black"}),Et,Dt,C("input",{type:"file",id:"input-file",class:"hidden",onChange:w[0]||(w[0]=i=>s(i.target.files))},null,32)],2)}}}),Ot={class:"flex gap-4 bg-slate-600 p-4 rounded-md"},Rt={class:"flex justify-between"},At=["value"],Tt=Oe({__name:"FileItem",props:{file:{type:Object,required:!0}},setup(n){const p=Y(0),o=Y(),s=()=>{p.value>=100?clearInterval(o.value):p.value+=1};return Ye(()=>{o.value=setInterval(s,10)}),(v,y)=>{const w=Ie;return me(),_e("div",Ot,[ge(w,{name:"teenyicons:spreadsheet-outline",class:"text-4xl"}),C("div",null,[C("div",null,[C("p",null,De(n.file.name),1),C("div",Rt,[C("span",null,De(n.file.size)+" B",1),C("p",null,De(ke(p))+"%",1)])]),C("progress",{class:"progress",value:ke(p),max:"100"},null,8,At)])])}}});var We=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function He(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ke={exports:{}};(function(n,p){(function(o,s){n.exports=s()})(We,function(){return function o(s,v,y){var w=window,x="application/octet-stream",i=y||x,_=s,D=!v&&!y&&_,E=document.createElement("a"),V=function(h){return String(h)},m=w.Blob||w.MozBlob||w.WebKitBlob||V,k=v||"download",O,A;if(m=m.call?m.bind(w):Blob,String(this)==="true"&&(_=[_,i],i=_[0],_=_[1]),D&&D.length<2048&&(k=D.split("/").pop().split("?")[0],E.href=D,E.href.indexOf(D)!==-1)){var P=new XMLHttpRequest;return P.open("GET",D,!0),P.responseType="blob",P.onload=function(h){o(h.target.response,k,x)},setTimeout(function(){P.send()},0),P}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(_))if(_.length>1024*1024*1.999&&m!==V)_=ee(_),i=_.type||x;else return navigator.msSaveBlob?navigator.msSaveBlob(ee(_),k):W(_);else if(/([\x80-\xff])/.test(_)){var se=0,ae=new Uint8Array(_.length),q=ae.length;for(se;se<q;++se)ae[se]=_.charCodeAt(se);_=new m([ae],{type:i})}O=_ instanceof m?_:new m([_],{type:i});function ee(h){var e=h.split(/[:;,]/),t=e[1],r=e[2]=="base64"?atob:decodeURIComponent,a=r(e.pop()),u=a.length,d=0,b=new Uint8Array(u);for(d;d<u;++d)b[d]=a.charCodeAt(d);return new m([b],{type:t})}function W(h,e){if("download"in E)return E.href=h,E.setAttribute("download",k),E.className="download-js-link",E.innerHTML="downloading...",E.style.display="none",document.body.appendChild(E),setTimeout(function(){E.click(),document.body.removeChild(E),e===!0&&setTimeout(function(){w.URL.revokeObjectURL(E.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(h)&&(h="data:"+h.replace(/^data:([\w\/\-\+]+)/,x)),window.open(h)||confirm(`Displaying New Document

Use Save As... to download, then click back to return to this page.`)&&(location.href=h),!0;var t=document.createElement("iframe");document.body.appendChild(t),!e&&/^data:/.test(h)&&(h="data:"+h.replace(/^data:([\w\/\-\+]+)/,x)),t.src=h,setTimeout(function(){document.body.removeChild(t)},333)}if(navigator.msSaveBlob)return navigator.msSaveBlob(O,k);if(w.URL)W(w.URL.createObjectURL(O),!0);else{if(typeof O=="string"||O.constructor===V)try{return W("data:"+i+";base64,"+w.btoa(O))}catch{return W("data:"+i+","+encodeURIComponent(O))}A=new FileReader,A.onload=function(h){W(this.result)},A.readAsDataURL(O)}return!0}})})(Ke);var It=Ke.exports;const Lt=He(It);var Ve={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(n,p){(function(o,s){n.exports=s()})(We,function o(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},v=!s.document&&!!s.postMessage,y=s.IS_PAPA_WORKER||!1,w={},x=0,i={parse:function(e,t){var r=(t=t||{}).dynamicTyping||!1;if(h(r)&&(t.dynamicTypingFunction=r,r={}),t.dynamicTyping=r,t.transform=!!h(t.transform)&&t.transform,t.worker&&i.WORKERS_SUPPORTED){var a=function(){if(!i.WORKERS_SUPPORTED)return!1;var d=(J=s.URL||s.webkitURL||null,N=o.toString(),i.BLOB_URL||(i.BLOB_URL=J.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",N,")();"],{type:"text/javascript"})))),b=new s.Worker(d),J,N;return b.onmessage=se,b.id=x++,w[b.id]=b}();return a.userStep=t.step,a.userChunk=t.chunk,a.userComplete=t.complete,a.userError=t.error,t.step=h(t.step),t.chunk=h(t.chunk),t.complete=h(t.complete),t.error=h(t.error),delete t.worker,void a.postMessage({input:e,config:t,workerId:a.id})}var u=null;return i.NODE_STREAM_INPUT,typeof e=="string"?(e=function(d){return d.charCodeAt(0)===65279?d.slice(1):d}(e),u=t.download?new E(t):new m(t)):e.readable===!0&&h(e.read)&&h(e.on)?u=new k(t):(s.File&&e instanceof File||e instanceof Object)&&(u=new V(t)),u.stream(e)},unparse:function(e,t){var r=!1,a=!0,u=",",d=`\r
`,b='"',J=b+b,N=!1,c=null,U=!1;(function(){if(typeof t=="object"){if(typeof t.delimiter!="string"||i.BAD_DELIMITERS.filter(function(l){return t.delimiter.indexOf(l)!==-1}).length||(u=t.delimiter),(typeof t.quotes=="boolean"||typeof t.quotes=="function"||Array.isArray(t.quotes))&&(r=t.quotes),typeof t.skipEmptyLines!="boolean"&&typeof t.skipEmptyLines!="string"||(N=t.skipEmptyLines),typeof t.newline=="string"&&(d=t.newline),typeof t.quoteChar=="string"&&(b=t.quoteChar),typeof t.header=="boolean"&&(a=t.header),Array.isArray(t.columns)){if(t.columns.length===0)throw new Error("Option columns is empty");c=t.columns}t.escapeChar!==void 0&&(J=t.escapeChar+b),(typeof t.escapeFormulae=="boolean"||t.escapeFormulae instanceof RegExp)&&(U=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var g=new RegExp(A(b),"g");if(typeof e=="string"&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return oe(null,e,N);if(typeof e[0]=="object")return oe(c||Object.keys(e[0]),e,N)}else if(typeof e=="object")return typeof e.data=="string"&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||c),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:typeof e.data[0]=="object"?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||typeof e.data[0]=="object"||(e.data=[e.data])),oe(e.fields||[],e.data||[],N);throw new Error("Unable to serialize unrecognized input");function oe(l,L,G){var z="";typeof l=="string"&&(l=JSON.parse(l)),typeof L=="string"&&(L=JSON.parse(L));var Q=Array.isArray(l)&&0<l.length,H=!Array.isArray(L[0]);if(Q&&a){for(var K=0;K<l.length;K++)0<K&&(z+=u),z+=Z(l[K],K);0<L.length&&(z+=d)}for(var f=0;f<L.length;f++){var S=Q?l.length:L[f].length,F=!1,$=Q?Object.keys(L[f]).length===0:L[f].length===0;if(G&&!Q&&(F=G==="greedy"?L[f].join("").trim()==="":L[f].length===1&&L[f][0].length===0),G==="greedy"&&Q){for(var T=[],X=0;X<S;X++){var j=H?l[X]:X;T.push(L[f][j])}F=T.join("").trim()===""}if(!F){for(var I=0;I<S;I++){0<I&&!$&&(z+=u);var le=Q&&H?l[I]:I;z+=Z(L[f][le],I)}f<L.length-1&&(!G||0<S&&!$)&&(z+=d)}}return z}function Z(l,L){if(l==null)return"";if(l.constructor===Date)return JSON.stringify(l).slice(1,25);var G=!1;U&&typeof l=="string"&&U.test(l)&&(l="'"+l,G=!0);var z=l.toString().replace(g,J);return(G=G||r===!0||typeof r=="function"&&r(l,L)||Array.isArray(r)&&r[L]||function(Q,H){for(var K=0;K<H.length;K++)if(-1<Q.indexOf(H[K]))return!0;return!1}(z,i.BAD_DELIMITERS)||-1<z.indexOf(u)||z.charAt(0)===" "||z.charAt(z.length-1)===" ")?b+z+b:z}}};if(i.RECORD_SEP=String.fromCharCode(30),i.UNIT_SEP=String.fromCharCode(31),i.BYTE_ORDER_MARK="\uFEFF",i.BAD_DELIMITERS=["\r",`
`,'"',i.BYTE_ORDER_MARK],i.WORKERS_SUPPORTED=!v&&!!s.Worker,i.NODE_STREAM_INPUT=1,i.LocalChunkSize=10485760,i.RemoteChunkSize=5242880,i.DefaultDelimiter=",",i.Parser=P,i.ParserHandle=O,i.NetworkStreamer=E,i.FileStreamer=V,i.StringStreamer=m,i.ReadableStreamStreamer=k,s.jQuery){var _=s.jQuery;_.fn.parse=function(e){var t=e.config||{},r=[];return this.each(function(d){if(!(_(this).prop("tagName").toUpperCase()==="INPUT"&&_(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var b=0;b<this.files.length;b++)r.push({file:this.files[b],inputElem:this,instanceConfig:_.extend({},t)})}),a(),this;function a(){if(r.length!==0){var d,b,J,N,c=r[0];if(h(e.before)){var U=e.before(c.file,c.inputElem);if(typeof U=="object"){if(U.action==="abort")return d="AbortError",b=c.file,J=c.inputElem,N=U.reason,void(h(e.error)&&e.error({name:d},b,J,N));if(U.action==="skip")return void u();typeof U.config=="object"&&(c.instanceConfig=_.extend(c.instanceConfig,U.config))}else if(U==="skip")return void u()}var g=c.instanceConfig.complete;c.instanceConfig.complete=function(oe){h(g)&&g(oe,c.file,c.inputElem),u()},i.parse(c.file,c.instanceConfig)}else h(e.complete)&&e.complete()}function u(){r.splice(0,1),a()}}}function D(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(t){var r=ee(t);r.chunkSize=parseInt(r.chunkSize),t.step||t.chunk||(r.chunkSize=null),this._handle=new O(r),(this._handle.streamer=this)._config=r}).call(this,e),this.parseChunk=function(t,r){if(this.isFirstChunk&&h(this._config.beforeFirstChunk)){var a=this._config.beforeFirstChunk(t);a!==void 0&&(t=a)}this.isFirstChunk=!1,this._halted=!1;var u=this._partialLine+t;this._partialLine="";var d=this._handle.parse(u,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var b=d.meta.cursor;this._finished||(this._partialLine=u.substring(b-this._baseIndex),this._baseIndex=b),d&&d.data&&(this._rowCount+=d.data.length);var J=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(y)s.postMessage({results:d,workerId:i.WORKER_ID,finished:J});else if(h(this._config.chunk)&&!r){if(this._config.chunk(d,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);d=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(d.data),this._completeResults.errors=this._completeResults.errors.concat(d.errors),this._completeResults.meta=d.meta),this._completed||!J||!h(this._config.complete)||d&&d.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),J||d&&d.meta.paused||this._nextChunk(),d}this._halted=!0},this._sendError=function(t){h(this._config.error)?this._config.error(t):y&&this._config.error&&s.postMessage({workerId:i.WORKER_ID,error:t,finished:!1})}}function E(e){var t;(e=e||{}).chunkSize||(e.chunkSize=i.RemoteChunkSize),D.call(this,e),this._nextChunk=v?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(r){this._input=r,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),v||(t.onload=W(this._chunkLoaded,this),t.onerror=W(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!v),this._config.downloadRequestHeaders){var r=this._config.downloadRequestHeaders;for(var a in r)t.setRequestHeader(a,r[a])}if(this._config.chunkSize){var u=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+u)}try{t.send(this._config.downloadRequestBody)}catch(d){this._chunkError(d.message)}v&&t.status===0&&this._chunkError()}},this._chunkLoaded=function(){t.readyState===4&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(r){var a=r.getResponseHeader("Content-Range");return a===null?-1:parseInt(a.substring(a.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(r){var a=t.statusText||r;this._sendError(new Error(a))}}function V(e){var t,r;(e=e||{}).chunkSize||(e.chunkSize=i.LocalChunkSize),D.call(this,e);var a=typeof FileReader<"u";this.stream=function(u){this._input=u,r=u.slice||u.webkitSlice||u.mozSlice,a?((t=new FileReader).onload=W(this._chunkLoaded,this),t.onerror=W(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var u=this._input;if(this._config.chunkSize){var d=Math.min(this._start+this._config.chunkSize,this._input.size);u=r.call(u,this._start,d)}var b=t.readAsText(u,this._config.encoding);a||this._chunkLoaded({target:{result:b}})},this._chunkLoaded=function(u){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(u.target.result)},this._chunkError=function(){this._sendError(t.error)}}function m(e){var t;D.call(this,e=e||{}),this.stream=function(r){return t=r,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var r,a=this._config.chunkSize;return a?(r=t.substring(0,a),t=t.substring(a)):(r=t,t=""),this._finished=!t,this.parseChunk(r)}}}function k(e){D.call(this,e=e||{});var t=[],r=!0,a=!1;this.pause=function(){D.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){D.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(u){this._input=u,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){a&&t.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):r=!0},this._streamData=W(function(u){try{t.push(typeof u=="string"?u:u.toString(this._config.encoding)),r&&(r=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(d){this._streamError(d)}},this),this._streamError=W(function(u){this._streamCleanUp(),this._sendError(u)},this),this._streamEnd=W(function(){this._streamCleanUp(),a=!0,this._streamData("")},this),this._streamCleanUp=W(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function O(e){var t,r,a,u=Math.pow(2,53),d=-u,b=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,J=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,N=this,c=0,U=0,g=!1,oe=!1,Z=[],l={data:[],errors:[],meta:{}};if(h(e.step)){var L=e.step;e.step=function(f){if(l=f,Q())z();else{if(z(),l.data.length===0)return;c+=f.data.length,e.preview&&c>e.preview?r.abort():(l.data=l.data[0],L(l,N))}}}function G(f){return e.skipEmptyLines==="greedy"?f.join("").trim()==="":f.length===1&&f[0].length===0}function z(){return l&&a&&(K("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+i.DefaultDelimiter+"'"),a=!1),e.skipEmptyLines&&(l.data=l.data.filter(function(f){return!G(f)})),Q()&&function(){if(!l)return;function f(F,$){h(e.transformHeader)&&(F=e.transformHeader(F,$)),Z.push(F)}if(Array.isArray(l.data[0])){for(var S=0;Q()&&S<l.data.length;S++)l.data[S].forEach(f);l.data.splice(0,1)}else l.data.forEach(f)}(),function(){if(!l||!e.header&&!e.dynamicTyping&&!e.transform)return l;function f(F,$){var T,X=e.header?{}:[];for(T=0;T<F.length;T++){var j=T,I=F[T];e.header&&(j=T>=Z.length?"__parsed_extra":Z[T]),e.transform&&(I=e.transform(I,j)),I=H(j,I),j==="__parsed_extra"?(X[j]=X[j]||[],X[j].push(I)):X[j]=I}return e.header&&(T>Z.length?K("FieldMismatch","TooManyFields","Too many fields: expected "+Z.length+" fields but parsed "+T,U+$):T<Z.length&&K("FieldMismatch","TooFewFields","Too few fields: expected "+Z.length+" fields but parsed "+T,U+$)),X}var S=1;return!l.data.length||Array.isArray(l.data[0])?(l.data=l.data.map(f),S=l.data.length):l.data=f(l.data,0),e.header&&l.meta&&(l.meta.fields=Z),U+=S,l}()}function Q(){return e.header&&Z.length===0}function H(f,S){return F=f,e.dynamicTypingFunction&&e.dynamicTyping[F]===void 0&&(e.dynamicTyping[F]=e.dynamicTypingFunction(F)),(e.dynamicTyping[F]||e.dynamicTyping)===!0?S==="true"||S==="TRUE"||S!=="false"&&S!=="FALSE"&&(function($){if(b.test($)){var T=parseFloat($);if(d<T&&T<u)return!0}return!1}(S)?parseFloat(S):J.test(S)?new Date(S):S===""?null:S):S;var F}function K(f,S,F,$){var T={type:f,code:S,message:F};$!==void 0&&(T.row=$),l.errors.push(T)}this.parse=function(f,S,F){var $=e.quoteChar||'"';if(e.newline||(e.newline=function(j,I){j=j.substring(0,1048576);var le=new RegExp(A(I)+"([^]*?)"+A(I),"gm"),te=(j=j.replace(le,"")).split("\r"),ue=j.split(`
`),ce=1<ue.length&&ue[0].length<te[0].length;if(te.length===1||ce)return`
`;for(var ne=0,M=0;M<te.length;M++)te[M][0]===`
`&&ne++;return ne>=te.length/2?`\r
`:"\r"}(f,$)),a=!1,e.delimiter)h(e.delimiter)&&(e.delimiter=e.delimiter(f),l.meta.delimiter=e.delimiter);else{var T=function(j,I,le,te,ue){var ce,ne,M,B;ue=ue||[",","	","|",";",i.RECORD_SEP,i.UNIT_SEP];for(var ve=0;ve<ue.length;ve++){var R=ue[ve],be=0,de=0,ye=0;M=void 0;for(var fe=new P({comments:te,delimiter:R,newline:I,preview:10}).parse(j),he=0;he<fe.data.length;he++)if(le&&G(fe.data[he]))ye++;else{var pe=fe.data[he].length;de+=pe,M!==void 0?0<pe&&(be+=Math.abs(pe-M),M=pe):M=pe}0<fe.data.length&&(de/=fe.data.length-ye),(ne===void 0||be<=ne)&&(B===void 0||B<de)&&1.99<de&&(ne=be,ce=R,B=de)}return{successful:!!(e.delimiter=ce),bestDelimiter:ce}}(f,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);T.successful?e.delimiter=T.bestDelimiter:(a=!0,e.delimiter=i.DefaultDelimiter),l.meta.delimiter=e.delimiter}var X=ee(e);return e.preview&&e.header&&X.preview++,t=f,r=new P(X),l=r.parse(t,S,F),z(),g?{meta:{paused:!0}}:l||{meta:{paused:!1}}},this.paused=function(){return g},this.pause=function(){g=!0,r.abort(),t=h(e.chunk)?"":t.substring(r.getCharIndex())},this.resume=function(){N.streamer._halted?(g=!1,N.streamer.parseChunk(t,!0)):setTimeout(N.resume,3)},this.aborted=function(){return oe},this.abort=function(){oe=!0,r.abort(),l.meta.aborted=!0,h(e.complete)&&e.complete(l),t=""}}function A(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function P(e){var t,r=(e=e||{}).delimiter,a=e.newline,u=e.comments,d=e.step,b=e.preview,J=e.fastMode,N=t=e.quoteChar===void 0||e.quoteChar===null?'"':e.quoteChar;if(e.escapeChar!==void 0&&(N=e.escapeChar),(typeof r!="string"||-1<i.BAD_DELIMITERS.indexOf(r))&&(r=","),u===r)throw new Error("Comment character same as delimiter");u===!0?u="#":(typeof u!="string"||-1<i.BAD_DELIMITERS.indexOf(u))&&(u=!1),a!==`
`&&a!=="\r"&&a!==`\r
`&&(a=`
`);var c=0,U=!1;this.parse=function(g,oe,Z){if(typeof g!="string")throw new Error("Input must be a string");var l=g.length,L=r.length,G=a.length,z=u.length,Q=h(d),H=[],K=[],f=[],S=c=0;if(!g)return re();if(e.header&&!oe){var F=g.split(a)[0].split(r),$=[],T={},X=!1;for(var j in F){var I=F[j];h(e.transformHeader)&&(I=e.transformHeader(I,j));var le=I,te=T[I]||0;for(0<te&&(X=!0,le=I+"_"+te),T[I]=te+1;$.includes(le);)le=le+"_"+te;$.push(le)}if(X){var ue=g.split(a);ue[0]=$.join(r),g=ue.join(a)}}if(J||J!==!1&&g.indexOf(t)===-1){for(var ce=g.split(a),ne=0;ne<ce.length;ne++){if(f=ce[ne],c+=f.length,ne!==ce.length-1)c+=a.length;else if(Z)return re();if(!u||f.substring(0,z)!==u){if(Q){if(H=[],ye(f.split(r)),xe(),U)return re()}else ye(f.split(r));if(b&&b<=ne)return H=H.slice(0,b),re(!0)}}return re()}for(var M=g.indexOf(r,c),B=g.indexOf(a,c),ve=new RegExp(A(N)+A(t),"g"),R=g.indexOf(t,c);;)if(g[c]!==t)if(u&&f.length===0&&g.substring(c,c+z)===u){if(B===-1)return re();c=B+G,B=g.indexOf(a,c),M=g.indexOf(r,c)}else if(M!==-1&&(M<B||B===-1))f.push(g.substring(c,M)),c=M+L,M=g.indexOf(r,c);else{if(B===-1)break;if(f.push(g.substring(c,B)),pe(B+G),Q&&(xe(),U))return re();if(b&&H.length>=b)return re(!0)}else for(R=c,c++;;){if((R=g.indexOf(t,R+1))===-1)return Z||K.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:H.length,index:c}),he();if(R===l-1)return he(g.substring(c,R).replace(ve,t));if(t!==N||g[R+1]!==N){if(t===N||R===0||g[R-1]!==N){M!==-1&&M<R+1&&(M=g.indexOf(r,R+1)),B!==-1&&B<R+1&&(B=g.indexOf(a,R+1));var be=fe(B===-1?M:Math.min(M,B));if(g.substr(R+1+be,L)===r){f.push(g.substring(c,R).replace(ve,t)),g[c=R+1+be+L]!==t&&(R=g.indexOf(t,c)),M=g.indexOf(r,c),B=g.indexOf(a,c);break}var de=fe(B);if(g.substring(R+1+de,R+1+de+G)===a){if(f.push(g.substring(c,R).replace(ve,t)),pe(R+1+de+G),M=g.indexOf(r,c),R=g.indexOf(t,c),Q&&(xe(),U))return re();if(b&&H.length>=b)return re(!0);break}K.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:H.length,index:c}),R++}}else R++}return he();function ye(ie){H.push(ie),S=c}function fe(ie){var Me=0;if(ie!==-1){var Re=g.substring(R+1,ie);Re&&Re.trim()===""&&(Me=Re.length)}return Me}function he(ie){return Z||(ie===void 0&&(ie=g.substring(c)),f.push(ie),c=l,ye(f),Q&&xe()),re()}function pe(ie){c=ie,ye(f),f=[],B=g.indexOf(a,c)}function re(ie){return{data:H,errors:K,meta:{delimiter:r,linebreak:a,aborted:U,truncated:!!ie,cursor:S+(oe||0)}}}function xe(){d(re()),H=[],K=[]}},this.abort=function(){U=!0},this.getCharIndex=function(){return c}}function se(e){var t=e.data,r=w[t.workerId],a=!1;if(t.error)r.userError(t.error,t.file);else if(t.results&&t.results.data){var u={abort:function(){a=!0,ae(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:q,resume:q};if(h(r.userStep)){for(var d=0;d<t.results.data.length&&(r.userStep({data:t.results.data[d],errors:t.results.errors,meta:t.results.meta},u),!a);d++);delete t.results}else h(r.userChunk)&&(r.userChunk(t.results,u,t.file),delete t.results)}t.finished&&!a&&ae(t.workerId,t.results)}function ae(e,t){var r=w[e];h(r.userComplete)&&r.userComplete(t),r.terminate(),delete w[e]}function q(){throw new Error("Not implemented.")}function ee(e){if(typeof e!="object"||e===null)return e;var t=Array.isArray(e)?[]:{};for(var r in e)t[r]=ee(e[r]);return t}function W(e,t){return function(){e.apply(t,arguments)}}function h(e){return typeof e=="function"}return y&&(s.onmessage=function(e){var t=e.data;if(i.WORKER_ID===void 0&&t&&(i.WORKER_ID=t.workerId),typeof t.input=="string")s.postMessage({workerId:i.WORKER_ID,results:i.parse(t.input,t.config),finished:!0});else if(s.File&&t.input instanceof File||t.input instanceof Object){var r=i.parse(t.input,t.config);r&&s.postMessage({workerId:i.WORKER_ID,results:r,finished:!0})}}),(E.prototype=Object.create(D.prototype)).constructor=E,(V.prototype=Object.create(D.prototype)).constructor=V,(m.prototype=Object.create(m.prototype)).constructor=m,(k.prototype=Object.create(D.prototype)).constructor=k,i})})(Ve);var Ft=Ve.exports;const Mt=He(Ft),Nt={class:"flex items-center justify-center h-screen flex-col gap-6"},zt=["onClick"],Ut={class:"flex justify-center items-center px-2 bg-accent-100 hover:bg-accent-200 text-accent-700 border-r border-gray-300 dark:bg-gray-700 dark:text-accent-300 dark:border-gray-600 dark:hover:bg-gray-600"},jt=["value"],Bt={id:"my_modal_1",class:"modal"},Pt={class:"modal-box flex justify-between items-center"},qt=C("form",{method:"dialog"},[C("button",{class:"btn btn-circle btn-outline btn-sm"},[C("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])])],-1),$t={class:"flex gap-4"},Wt={class:"bg-[#fefefe] rounded-md p-5 flex gap-4 flex-col"},Ht=C("h1",{class:"text-xl font-medium text-slate-600"},"Adicione novas transferências",-1),Kt=["disabled"],Vt={class:"label cursor-pointer flex gap-2"},Jt=["value"],Qt={class:"label-text w-full !text-start"},Zt={onclick:"my_modal_1.showModal()",class:"btn btn-ghost w-full"},en=Oe({__name:"index",setup(n){et({title:"Konverti by Alexis Lopes",link:[{rel:"icon",type:"image/png",href:"/favicon.ico"}]});const p=Y([]),o=Y("");Y([]);const s=Y([]),v=Te("contas",[],{serializer:{read:m=>m?JSON.parse(m):null,write:m=>JSON.stringify(m)}}),y=(m="")=>(m=new Date(...m.split("/").map(k=>Number(k)).reverse()),new Date(m.setMonth(m.getMonth()-1))),w=Y({start:new Date,end:new Date}),x=Y([{key:"today",highlight:{color:"#7c3aed",fillMode:"solid"},dates:new Date}]),i=Y({hours:0,minutes:0,seconds:0,milliseconds:0}),_=tt(()=>p.value.filter(m=>{const k=new Date(y(m.Data));return k.getTime()>=w.value.start.getTime()&&k.getTime()<=w.value.end.getTime()})),D=Te("lastImport",0),E=m=>{Mt.parse(m,{header:!0,skipEmptyLines:!0,complete:(function(k){p.value=k.data.map(A=>({...A,Conta:o.value,Categoria:""}));const O=[...new Set(p.value.map(A=>y(A.Data).getTime()))];w.value={start:new Date(Math.min(...O)),end:new Date(Math.max(...O))}}).bind(this)})},V=()=>{const m=["Data","Descrição","Valor","Conta","Categoria"],k=_==null?void 0:_.value.map(A=>({...A,Conta:o.value})).map(A=>m.map(P=>`"${A[P]}"`)),O=[m.map(A=>`"${A}"`),...k].map(A=>A.join(";")).join(`\r
`);Lt(O,`NUB2MOB Converter for ${o.value} at ${new Date().toLocaleDateString(navigator.language,{day:"numeric",month:"2-digit",year:"2-digit",hour:"numeric",minute:"numeric"})}.csv`,"text/csv"),D.value=new Date().getTime()};return Le(s,m=>{E(m[0])}),(m,k)=>{const O=Ie,A=rt,P=Ct,se=St,ae=Tt;return me(),_e("div",Nt,[ge(A,{isDark:"",modelValue:w.value,"onUpdate:modelValue":k[0]||(k[0]=q=>w.value=q),modelModifiers:{range:!0},attributes:x.value,"max-date":new Date,color:"indigo",rules:i.value,disabled:!_.value.length},{default:nt(({togglePopover:q,inputValue:ee,inputEvents:W})=>[C("div",{class:"flex rounded-lg border border-gray-300 dark:border-gray-600 overflow-hidden cursor-pointer",onClick:q},[C("button",Ut,[ge(O,{name:"octicon:calendar-16",class:"text-xl"})]),C("input",it({readonly:"",value:`${ee.start} - ${ee.end}`},st(W,!0),{class:"flex-grow px-2 py-1 bg-white dark:bg-gray-700 cursor-pointer"}),null,16,jt)],8,zt)]),_:1},8,["modelValue","attributes","max-date","rules","disabled"]),C("dialog",Bt,[C("div",Pt,[ge(P),qt])]),C("div",$t,[C("div",Wt,[Ht,ge(se,{onOnDrop:k[1]||(k[1]=q=>s.value=q),class:"w-full"}),(me(!0),_e(Ne,null,ze(s.value,q=>(me(),_e("div",{key:q.name},[ge(ae,{file:q},null,8,["file"])]))),128)),C("div",{class:Pe(s.value.length===0||!o.value?"tooltip":""),"data-tip":"Você precisa importar o arquivo de transferências e selecionar uma conta."},[C("button",{disabled:s.value.length===0||!o.value,class:"btn btn-block btn-primary",onClick:V},"converter",8,Kt)],2)]),C("div",null,[(me(!0),_e(Ne,null,ze(ke(v),q=>(me(),_e("div",{class:"form-control",key:q},[C("label",Vt,[Be(C("input",{type:"radio",name:"radio-10",class:"radio checked:bg-red-500","onUpdate:modelValue":k[2]||(k[2]=ee=>o.value=ee),value:q},null,8,Jt),[[at,o.value]]),C("span",Qt,De(q),1)])]))),128)),C("button",Zt,[ge(O,{name:"octicon:plus-16",class:"text-xl"}),Ae(" Nova conta ")])])])])}}});export{en as default};
